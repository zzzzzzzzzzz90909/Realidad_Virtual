<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planta Industrial - Brazo Rob√≥tico YASKAWA</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/20.0.3/tween.umd.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      overflow: hidden;
      background: linear-gradient(to bottom, #2c3e50, #1a1a2e);
      color: #fff;
    }
    
    #container {
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    
    #header {
      background: rgba(0, 0, 0, 0.7);
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid #3498db;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    }
    
    #header h1 {
      font-size: 24px;
      color: #3498db;
      text-shadow: 0 0 10px rgba(52, 152, 219, 0.7);
    }
    
    #status {
      display: flex;
      gap: 20px;
    }
    
    .status-item {
      background: rgba(255, 255, 255, 0.1);
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .status-indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #2ecc71;
      box-shadow: 0 0 8px #2ecc71;
    }
    
    .status-indicator.warning {
      background: #f39c12;
      box-shadow: 0 0 8px #f39c12;
    }
    
    #main-content {
      display: flex;
      flex: 1;
      overflow: hidden;
    }
    
    #scene-container {
      flex: 1;
      position: relative;
    }
    
    #controls-panel {
      width: 320px;
      background: rgba(0, 0, 0, 0.8);
      padding: 20px;
      overflow-y: auto;
      border-left: 1px solid #34495e;
      box-shadow: -5px 0 15px rgba(0, 0, 0, 0.5);
    }
    
    .panel-section {
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid #34495e;
    }
    
    .panel-section h2 {
      font-size: 18px;
      margin-bottom: 15px;
      color: #3498db;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .panel-section h2 i {
      font-size: 20px;
    }
    
    .control-group {
      margin-bottom: 15px;
    }
    
    .control-group label {
      display: block;
      margin-bottom: 8px;
      font-size: 14px;
      color: #ecf0f1;
    }
    
    .slider-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .slider-container input[type="range"] {
      flex: 1;
      height: 6px;
      -webkit-appearance: none;
      background: #34495e;
      border-radius: 3px;
      outline: none;
    }
    
    .slider-container input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #3498db;
      cursor: pointer;
      box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
    }
    
    .value-display {
      width: 50px;
      text-align: center;
      background: rgba(52, 152, 219, 0.2);
      padding: 5px;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .btn-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 10px;
    }
    
    button {
      background: #3498db;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    button:hover {
      background: #2980b9;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    button:active {
      transform: translateY(0);
    }
    
    button.preset {
      background: #9b59b6;
    }
    
    button.preset:hover {
      background: #8e44ad;
    }
    
    button.auto {
      background: #2ecc71;
    }
    
    button.auto:hover {
      background: #27ae60;
    }
    
    button.stop {
      background: #e74c3c;
    }
    
    button.stop:hover {
      background: #c0392b;
    }
    
    .toggle-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 24px;
    }
    
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #34495e;
      transition: .4s;
      border-radius: 24px;
    }
    
    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    
    input:checked + .toggle-slider {
      background-color: #3498db;
    }
    
    input:checked + .toggle-slider:before {
      transform: translateX(26px);
    }
    
    #notification {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.8);
      padding: 15px 20px;
      border-radius: 8px;
      border-left: 4px solid #3498db;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
      transform: translateX(400px);
      transition: transform 0.5s;
      z-index: 1000;
      max-width: 300px;
    }
    
    #notification.show {
      transform: translateX(0);
    }
    
    #notification h3 {
      color: #3498db;
      margin-bottom: 5px;
    }
    
    #view-controls {
      position: absolute;
      bottom: 20px;
      left: 20px;
      display: flex;
      gap: 10px;
      z-index: 10;
    }
    
    #view-controls button {
      background: rgba(0, 0, 0, 0.6);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .joint-diagram {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      padding: 10px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
    }
    
    .joint {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .joint-circle {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #34495e;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 5px;
      border: 2px solid #3498db;
    }
    
    .joint-label {
      font-size: 12px;
      color: #bdc3c7;
    }
  </style>
</head>
<body>
  <div id="container">
    <div id="header">
      <h1>Sistema de Brazo Rob√≥tico YASKAWA - Planta Industrial</h1>
      <div id="status">
        <div class="status-item">
          <div class="status-indicator"></div>
          <span>Sistema Operativo</span>
        </div>
        <div class="status-item">
          <div class="status-indicator"></div>
          <span>Brazo Conectado</span>
        </div>
        <div class="status-item">
          <div class="status-indicator warning"></div>
          <span>Modo Manual</span>
        </div>
      </div>
    </div>
    
    <div id="main-content">
      <div id="scene-container">
        <a-scene background="color: #87CEEB" renderer="colorManagement: true; physicallyCorrectLights: true">
          <a-assets>
            <a-asset-item id="robot-arm" src="./YASKAWA_ROBOTIC_ARM.glb"></a-asset-item>
            <img id="concrete-floor" src="https://cdn.glitch.global/c67f1742-8280-4962-a78b-d547370c4a4a/Concrete031_1K_Color.jpg?v=1680522802651">
            <img id="metal-wall" src="https://cdn.glitch.global/c67f1742-8280-4962-a78b-d547370c4a4a/MetalPlates006_1K_Color.jpg?v=1680522810486">
            <img id="conveyor-texture" src="https://cdn.glitch.global/c67f1742-8280-4962-a78b-d547370c4a4a/Rubber001_1K_Color.jpg?v=1680522815664">
            <img id="warning-sign" src="https://cdn.glitch.global/c67f1742-8280-4962-a78b-d547370c4a4a/robot-warning-sign.png?v=1680524891823">
            <img id="wood-pallet" src="https://cdn.glitch.global/c67f1742-8280-4962-a78b-d547370c4a4a/Planks032_1K_Color.jpg?v=1680526462589">
            <img id="screen-ui" src="https://cdn.glitch.global/c67f1742-8280-4962-a78b-d547370c4a4a/scifi-screen.jpg?v=1680526458653">
            <img id="factory-texture" src="https://cdn.glitch.global/c67f1742-8280-4962-a78b-d547370c4a4a/MetalFence014_1K_Color.jpg?v=1680522802651">
          </a-assets>

          <!-- Luces mejoradas -->
          <a-entity light="type: ambient; color: #FFF; intensity: 0.6"></a-entity>
          <a-entity light="type: directional; color: #FFF; intensity: 0.8" position="5 10 5" castShadow="true"></a-entity>
          <a-entity light="type: spot; angle: 60; penumbra: 0.5; intensity: 1.5; castShadow: true;" position="0 8 0" target="#robot"></a-entity>
          
          <!-- Suelo y paredes de la planta industrial -->
          <a-plane material="src: #concrete-floor; repeat: 8 8" position="0 0 0" rotation="-90 0 0" width="20" height="20" shadow="receive: true"></a-plane>
          
          <!-- Paredes de la nave industrial -->
          <a-plane material="src: #factory-texture; repeat: 4 2" width="20" height="8" position="0 4 -10"></a-plane>
          <a-plane material="src: #factory-texture; repeat: 4 2" width="20" height="8" position="-10 4 0" rotation="0 90 0"></a-plane>
          <a-plane material="src: #factory-texture; repeat: 4 2" width="20" height="8" position="10 4 0" rotation="0 90 0"></a-plane>
          <a-plane material="src: #factory-texture; repeat: 4 2" width="20" height="8" position="0 4 10" rotation="0 180 0"></a-plane>
          
          <!-- Estructura de la nave -->
          <a-cylinder color="#7f8c8d" radius="0.2" height="8" position="-9.5 4 -9.5"></a-cylinder>
          <a-cylinder color="#7f8c8d" radius="0.2" height="8" position="9.5 4 -9.5"></a-cylinder>
          <a-cylinder color="#7f8c8d" radius="0.2" height="8" position="-9.5 4 9.5"></a-cylinder>
          <a-cylinder color="#7f8c8d" radius="0.2" height="8" position="9.5 4 9.5"></a-cylinder>
          
          <!-- Vigas de techo -->
          <a-box color="#34495e" width="20" height="0.3" depth="0.5" position="0 7.8 0"></a-box>
          <a-box color="#34495e" width="0.5" height="0.3" depth="20" position="0 7.8 0"></a-box>
          
          <!-- Brazo rob√≥tico YASKAWA -->
          <a-entity id="robot" gltf-model="#robot-arm" position="0 0 0" scale="1 1 1" shadow="cast: true">
            <!-- Estas entidades se usar√°n para animar partes espec√≠ficas del robot -->
            <a-entity id="base" class="robot-part" data-joint="base"></a-entity>
            <a-entity id="shoulder" class="robot-part" data-joint="shoulder"></a-entity>
            <a-entity id="elbow" class="robot-part" data-joint="elbow"></a-entity>
            <a-entity id="wrist" class="robot-part" data-joint="wrist"></a-entity>
            <a-entity id="gripper" class="robot-part" data-joint="gripper"></a-entity>
          </a-entity>
          
          <!-- Cinta transportadora -->
          <a-entity id="conveyor-belt" position="-4 0.4 3" rotation="0 0 0">
            <a-box color="#2c3e50" depth="8" height="0.8" width="1.5"></a-box>
            <a-box id="conveyor-band" material="src: #conveyor-texture; repeat: 8 1" position="0 0.45 0" depth="8" height="0.1" width="1.2"></a-box>
            <a-cylinder color="#e74c3c" radius="0.2" height="1.5" position="0 0.4 4" rotation="0 0 90"></a-cylinder>
            <a-cylinder color="#e74c3c" radius="0.2" height="1.5" position="0 0.4 -4" rotation="0 0 90"></a-cylinder>
          </a-entity>
          
          <!-- Cajas en la cinta transportadora -->
          <a-box class="movable-box" position="-4 0.9 2" depth="0.5" height="0.5" width="0.5" color="#e74c3c" shadow="cast: true"></a-box>
          <a-box class="movable-box" position="-4 0.9 0" depth="0.5" height="0.5" width="0.5" color="#3498db" shadow="cast: true"></a-box>
          <a-box class="movable-box" position="-4 0.9 -2" depth="0.5" height="0.5" width="0.5" color="#2ecc71" shadow="cast: true"></a-box>

          <!-- Pallets para colocar cajas -->
          <a-entity class="pallet" position="4 0 -3" shadow="cast: true">
            <a-box material="src: #wood-pallet" width="1.5" height="0.15" depth="1.2" position="0 0.075 0"></a-box>
            <a-box material="src: #wood-pallet" width="0.15" height="0.075" depth="1.2" position="-0.6 0.0325 0"></a-box>
            <a-box material="src: #wood-pallet" width="0.15" height="0.075" depth="1.2" position="0 0.0325 0"></a-box>
            <a-box material="src: #wood-pallet" width="0.15" height="0.075" depth="1.2" position="0.6 0.0325 0"></a-box>
          </a-entity>
          
          <a-entity class="pallet" position="4 0 3" shadow="cast: true">
            <a-box material="src: #wood-pallet" width="1.5" height="0.15" depth="1.2" position="0 0.075 0"></a-box>
            <a-box material="src: #wood-pallet" width="0.15" height="0.075" depth="1.2" position="-0.6 0.0325 0"></a-box>
            <a-box material="src: #wood-pallet" width="0.15" height="0.075" depth="1.2" position="0 0.0325 0"></a-box>
            <a-box material="src: #wood-pallet" width="0.15" height="0.075" depth="1.2" position="0.6 0.0325 0"></a-box>
          </a-entity>
          
          <!-- Estaci√≥n de operador -->
          <a-entity id="operator-station" position="8 0 0">
            <a-box color="#34495e" width="2" height="1" depth="1" position="0 0.5 0" shadow="cast: true"></a-box>
            <a-box color="#2c3e50" width="0.1" height="1" depth="0.1" position="-0.9 0.5 -0.45"></a-box>
            <a-box color="#2c3e50" width="0.1" height="1" depth="0.1" position="0.9 0.5 -0.45"></a-box>
            <a-box color="#1a1a2e" width="1.2" height="0.8" depth="0.05" position="0 1 -0.4" shadow="cast: true"></a-box>
            <a-plane material="src: #screen-ui" width="1" height="0.6" position="0 1 -0.37"></a-plane>
            <a-cylinder color="#7f8c8d" radius="0.3" height="0.7" position="0 0.35 0.6" shadow="cast: true"></a-cylinder>
          </a-entity>

          <!-- Se√±ales de seguridad -->
          <a-plane material="src: #warning-sign" width="1.2" height="1.2" position="-8 2.5 -8"></a-plane>
          <a-plane material="src: #warning-sign" width="1.2" height="1.2" position="8 2.5 -8"></a-plane>
          
          <!-- C√°mara con controles -->
          <a-entity id="camera-rig" position="0 1.6 0">
            <a-entity camera look-controls wasd-controls position="0 0 0" fov="65"></a-entity>
          </a-entity>
          
          <!-- Puntos de inter√©s para la c√°mara -->
          <a-entity id="overview-cam" camera="active: false" position="0 12 0" rotation="-90 0 0"></a-entity>
          <a-entity id="side-cam" camera="active: false" position="-10 3 0" rotation="0 90 0"></a-entity>
          <a-entity id="front-cam" camera="active: false" position="0 3 10" rotation="0 180 0"></a-entity>
          <a-entity id="robot-cam" camera="active: false" position="0 2 5"></a-entity>
          
        </a-scene>
        
        <div id="view-controls">
          <button onclick="switchCamera('default')" title="Vista por defecto">üëÅÔ∏è</button>
          <button onclick="switchCamera('overview')" title="Vista superior">üìä</button>
          <button onclick="switchCamera('side')" title="Vista lateral">üìê</button>
          <button onclick="switchCamera('front')" title="Vista frontal">üè≠</button>
          <button onclick="switchCamera('robot')" title="Vista del robot">ü§ñ</button>
        </div>
      </div>
      
      <div id="controls-panel">
        <div class="panel-section">
          <h2>üéõÔ∏è Control de Articulaciones</h2>
          
          <div class="control-group">
            <label>Base (Rotaci√≥n)</label>
            <div class="slider-container">
              <input type="range" id="base-rotation" min="-180" max="180" value="0" oninput="updateRobot()">
              <span class="value-display" id="base-value">0¬∞</span>
            </div>
          </div>
          
          <div class="control-group">
            <label>Hombro (Elevaci√≥n)</label>
            <div class="slider-container">
              <input type="range" id="shoulder-angle" min="-90" max="90" value="0" oninput="updateRobot()">
              <span class="value-display" id="shoulder-value">0¬∞</span>
            </div>
          </div>
          
          <div class="control-group">
            <label>Codo (Flexi√≥n)</label>
            <div class="slider-container">
              <input type="range" id="elbow-angle" min="-90" max="90" value="0" oninput="updateRobot()">
              <span class="value-display" id="elbow-value">0¬∞</span>
            </div>
          </div>
          
          <div class="control-group">
            <label>Mu√±eca (Rotaci√≥n)</label>
            <div class="slider-container">
              <input type="range" id="wrist-angle" min="-90" max="90" value="0" oninput="updateRobot()">
              <span class="value-display" id="wrist-value">0¬∞</span>
            </div>
          </div>
          
          <div class="control-group">
            <label>Pinza (Apertura)</label>
            <div class="slider-container">
              <input type="range" id="gripper-state" min="0" max="1" value="0" step="0.1" oninput="updateRobot()">
              <span class="value-display" id="gripper-value">0%</span>
            </div>
          </div>
          
          <div class="joint-diagram">
            <div class="joint">
              <div class="joint-circle">B</div>
              <div class="joint-label">Base</div>
            </div>
            <div class="joint">
              <div class="joint-circle">H</div>
              <div class="joint-label">Hombro</div>
            </div>
            <div class="joint">
              <div class="joint-circle">C</div>
              <div class="joint-label">Codo</div>
            </div>
            <div class="joint">
              <div class="joint-circle">M</div>
              <div class="joint-label">Mu√±eca</div>
            </div>
            <div class="joint">
              <div class="joint-circle">P</div>
              <div class="joint-label">Pinza</div>
            </div>
          </div>
        </div>
        
        <div class="panel-section">
          <h2>üöÄ Movimientos Predefinidos</h2>
          <div class="btn-group">
            <button class="preset" onclick="moveToPosition('home')">
              <span>üè†</span> Inicio
            </button>
            <button class="preset" onclick="moveToPosition('pick')">
              <span>üì¶</span> Recoger
            </button>
            <button class="preset" onclick="moveToPosition('pallet1')">
              <span>üîÑ</span> Pallet 1
            </button>
            <button class="preset" onclick="moveToPosition('pallet2')">
              <span>üîÑ</span> Pallet 2
            </button>
          </div>
        </div>
        
        <div class="panel-section">
          <h2>‚öôÔ∏è Modo Autom√°tico</h2>
          <div class="control-group">
            <div class="toggle-container">
              <label>Ejecutar ciclo autom√°tico</label>
              <label class="toggle-switch">
                <input type="checkbox" id="auto-mode" onchange="toggleAutoMode()">
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
          
          <div class="btn-group">
            <button class="auto" onclick="startSequence()">
              <span>‚ñ∂Ô∏è</span> Iniciar
            </button>
            <button class="stop" onclick="stopSequence()">
              <span>‚èπÔ∏è</span> Detener
            </button>
          </div>
        </div>
        
        <div class="panel-section">
          <h2>üìä Estado del Sistema</h2>
          <div class="control-group">
            <label>Temperatura del motor: <span id="motor-temp">42¬∞C</span></label>
            <div class="slider-container">
              <input type="range" min="20" max="100" value="42" disabled style="background: #2ecc71;">
            </div>
          </div>
          
          <div class="control-group">
            <label>Uso de energ√≠a: <span id="power-usage">24%</span></label>
            <div class="slider-container">
              <input type="range" min="0" max="100" value="24" disabled style="background: #3498db;">
            </div>
          </div>
          
          <div class="control-group">
            <label>Tiempo de operaci√≥n: <span id="operation-time">00:12:45</span></label>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div id="notification">
    <h3>Sistema Listo</h3>
    <p>Brazo rob√≥tico YASKAWA inicializado y listo para operar.</p>
  </div>

  <script>
    // Variables globales
    let isAnimating = false;
    let animationInterval;
    let sequenceInterval;
    let autoMode = false;
    let operationStartTime = Date.now();
    
    // Inicializaci√≥n cuando la escena est√© cargada
    document.querySelector('a-scene').addEventListener('loaded', function() {
      console.log('Escena de planta industrial cargada');
      showNotification('Sistema Listo', 'Brazo rob√≥tico YASKAWA inicializado y listo para operar.');
      startOperationTimer();
    });
    
    // Mostrar notificaci√≥n
    function showNotification(title, message) {
      const notification = document.getElementById('notification');
      notification.querySelector('h3').textContent = title;
      notification.querySelector('p').textContent = message;
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 5000);
    }
    
    // Actualizar valores de los sliders
    function updateSliderValues() {
      document.getElementById('base-value').textContent = document.getElementById('base-rotation').value + '¬∞';
      document.getElementById('shoulder-value').textContent = document.getElementById('shoulder-angle').value + '¬∞';
      document.getElementById('elbow-value').textContent = document.getElementById('elbow-angle').value + '¬∞';
      document.getElementById('wrist-value').textContent = document.getElementById('wrist-angle').value + '¬∞';
      document.getElementById('gripper-value').textContent = 
        Math.round(document.getElementById('gripper-state').value * 100) + '%';
    }
    
    // Actualizar posici√≥n del robot basado en los controles
    function updateRobot() {
      updateSliderValues();
      
      // Obtener valores de los controles
      const baseRotation = document.getElementById('base-rotation').value;
      const shoulderAngle = document.getElementById('shoulder-angle').value;
      const elbowAngle = document.getElementById('elbow-angle').value;
      const wristAngle = document.getElementById('wrist-angle').value;
      const gripperState = document.getElementById('gripper-state').value;
      
      // En una implementaci√≥n real, aqu√≠ aplicar√≠as estas transformaciones
      // a las partes espec√≠ficas del modelo del robot YASKAWA
      
      // Simulaci√≥n de movimiento (en un caso real, esto manipular√≠a las partes del modelo GLTF)
      console.log(`Controlando brazo YASKAWA - Base: ${baseRotation}¬∞, Hombro: ${shoulderAngle}¬∞, Codo: ${elbowAngle}¬∞, Mu√±eca: ${wristAngle}¬∞, Pinza: ${gripperState}`);
      
      // Actualizar indicadores de estado
      updateStatusIndicators();
      
      // Si estamos en modo autom√°tico, detener la secuencia
      if (autoMode) {
        stopSequence();
        document.getElementById('auto-mode').checked = false;
        autoMode = false;
        showNotification('Modo Manual', 'El modo autom√°tico ha sido desactivado por control manual.');
      }
    }
    
    // Actualizar indicadores de estado
    function updateStatusIndicators() {
      // Simular cambios en los indicadores basados en el movimiento
      const baseVal = Math.abs(document.getElementById('base-rotation').value);
      const shoulderVal = Math.abs(document.getElementById('shoulder-angle').value);
      const elbowVal = Math.abs(document.getElementById('elbow-angle').value);
      
      const load = (baseVal + shoulderVal + elbowVal) / 3;
      const powerUsage = 20 + (load / 180) * 80;
      const motorTemp = 30 + (load / 180) * 70;
      
      document.getElementById('power-usage').textContent = Math.round(powerUsage) + '%';
      document.getElementById('motor-temp').textContent = Math.round(motorTemp) + '¬∞C';
      
      // Cambiar color del indicador de temperatura si es alta
      if (motorTemp > 70) {
        document.querySelectorAll('.status-indicator')[2].classList.add('warning');
      } else {
        document.querySelectorAll('.status-indicator')[2].classList.remove('warning');
      }
    }
    
    // Movimientos predefinidos
    function moveToPosition(position) {
      let base, shoulder, elbow, wrist, gripper;
      
      switch(position) {
        case 'home':
          base = 0;
          shoulder = 0;
          elbow = 0;
          wrist = 0;
          gripper = 0;
          showNotification('Posici√≥n Inicial', 'Moviento el brazo a la posici√≥n de inicio.');
          break;
        case 'pick':
          base = -45;
          shoulder = -30;
          elbow = 45;
          wrist = 15;
          gripper = 0.5;
          showNotification('Recoger Objeto', 'Posicionando brazo para recoger objeto de la cinta.');
          break;
        case 'pallet1':
          base = 60;
          shoulder = 20;
          elbow = -30;
          wrist = -10;
          gripper = 0;
          showNotification('Pallet 1', 'Moviento hacia el pallet de almacenamiento 1.');
          break;
        case 'pallet2':
          base = 120;
          shoulder = 15;
          elbow = -25;
          wrist = 5;
          gripper = 0;
          showNotification('Pallet 2', 'Moviento hacia el pallet de almacenamiento 2.');
          break;
      }
      
      // Animar hacia la nueva posici√≥n
      animateToPosition(base, shoulder, elbow, wrist, gripper);
    }
    
    // Animaci√≥n suave a una posici√≥n
    function animateToPosition(base, shoulder, elbow, wrist, gripper) {
      const baseSlider = document.getElementById('base-rotation');
      const shoulderSlider = document.getElementById('shoulder-angle');
      const elbowSlider = document.getElementById('elbow-angle');
      const wristSlider = document.getElementById('wrist-angle');
      const gripperSlider = document.getElementById('gripper-state');
      
      const duration = 1000; // ms
      const startTime = Date.now();
      
      const startBase = parseFloat(baseSlider.value);
      const startShoulder = parseFloat(shoulderSlider.value);
      const startElbow = parseFloat(elbowSlider.value);
      const startWrist = parseFloat(wristSlider.value);
      const startGripper = parseFloat(gripperSlider.value);
      
      function updateAnimation() {
        const elapsed = Date.now() - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        // Funci√≥n de easing suave
        const easeProgress = 1 - Math.pow(1 - progress, 3);
        
        baseSlider.value = startBase + (base - startBase) * easeProgress;
        shoulderSlider.value = startShoulder + (shoulder - startShoulder) * easeProgress;
        elbowSlider.value = startElbow + (elbow - startElbow) * easeProgress;
        wristSlider.value = startWrist + (wrist - startWrist) * easeProgress;
        gripperSlider.value = startGripper + (gripper - startGripper) * easeProgress;
        
        updateRobot();
        
        if (progress < 1) {
          request
